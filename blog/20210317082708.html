<!DOCTYPE html>
<html>
  <head>
    <!-- meta --><meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0">
<link rel="icon" type="image/x-icon" href="/images/logo.png">
<link rel="stylesheet" type="text/css" href="/css/common.css">

<script type="text/javascript" src="/js/jquery-1.9.0.min.js"></script>
<script type="text/javascript" src="/js/google-code-prettify/prettify.js"></script>
<link  type="text/css" rel="stylesheet" href="/js/google-code-prettify/prettify.css"/>
<script>
  $(function(){
    $("pre").addClass("prettyprint");
    function init(event){
      prettyPrint();
    }
    if(window.addEventListener)window.addEventListener("load",init,false);
    else if(window.attachEvent)window.attachEvent("onload",init);
    
    $(".to-top").click(function() {
      $('body, html').animate({scrollTop: 0}, 300, 'linear');;
    });
  });
</script>

<!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-FTCP0SKTW5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-FTCP0SKTW5');
</script>

<title> Assertion --assertion macro  - C Language Zemi -  All Examples are support C99 C Language</title>
<meta name="description" content="You can insert assertions into your source code using the assert macro.">
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@perlzemi" />
<meta name="twitter:title" content=" Assertion --assertion macro  - C Language Zemi -  All Examples are support C99 C Language" />
<meta name="twitter:description" content="You can insert assertions into your source code using the assert macro." />
<meta name="twitter:image" content="https://en.c.perlzemi.com/images/twitter_card_large_kaeru.png" />


  </head>
  <body>
    <div class="container">
      <div class="header">
        <div class="header_main">
  <h1>
    <a href="/"><img src="/images/logo.png">C Language Zemi</a>
  </h1>
</div>

      </div>
      <div class="main">
        <div class="content">
          <div class="entry">
  <div class="top">
    
  </div>
  <div class="middle">
    <div class = "bread">
  <ul itemscope itemtype = "http://schema.org/BreadcrumbList">
    <li itemprop = "itemListElement" itemscope itemtype = "http://schema.org/ListItem">
      <a itemprop="item" href="/">
        <span itemprop = "name"> C language </span>
     </a>
      <meta itemprop = "position" content = "1" />
    </li>
    <li itemprop = "itemListElement" itemscope itemtype = "http://schema.org/ListItem">
      <a itemprop="item" href="/library.html">
        <span itemprop = "name"> C standard library </span>
     </a>
      <meta itemprop = "position" content = "2" />
    </li>
    <li itemprop = "itemListElement" itemscope itemtype = "http://schema.org/ListItem">
      <a itemprop="item" href="/library/assert.html">
        <span itemprop = "name"> assert.h </span>
     </a>
      <meta itemprop = "position" content = "3" />
    </li>
    <li>
      here
    </li>
  </ul>
</div>
<h2><a href="/blog/20210317082708.html"> Assertion --assertion macro </a></h2>
<p>
  You can insert assertions into your source code using the assert macro.
</p>
<div style="width:calc(100% - 30px);margin:10px auto;">
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4525414114581084"
       crossorigin="anonymous"></script>
  <!-- 最初の段落下 - ディスプレイ 横長 レスポンシブ -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-4525414114581084"
       data-ad-slot="2828858335"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


<pre>
assert (condition)
</pre>
<p>
  If the condition of the assert macro is true, nothing happens. If the condition is false, an error message will be output and the program will terminate. If core dump output is enabled, core dump output is also output. This is useful if you want to check that a value is what you expect.
</p>
<pre>
#include &lt;stdio.h&gt;
#include &lt;stdint.h&gt;
#include &lt;assert.h&gt;

int main (void) {
  int32_t num = 3;
  
  // Check that num is greater than 1
  assert (num&gt; 1);
  
  printf("%d\n", num);
}
</pre>
<p>
  This is the output result. Since "num" is larger than "1", it will be executed normally.
</p>
<pre>
3
</pre>
<p>
  Let's change "num" to "-1".
</p>
<pre>
#include &lt;stdio.h&gt;
#include &lt;stdint.h&gt;
#include &lt;assert.h&gt;

int main (void) {
  int32_t num = -1;
  
  // Check that num is greater than 1
  assert (num&gt; 1);
  
  printf("%d\n", num);
}
</pre>
<p>
  This is the output result for <a href="https://en.linux.perlzemi.com/blog/20201216103956.html"> gcc</a>.
</p>
<pre>
a: a.c: 9: main: Assertion `num&gt; 1'failed.
Aborted (core dumped)
</pre>
<p>
  <a href="https://en.linux.perlzemi.com/blog/20191126082723.html"> ls command</a> and <a href="https://en.linux.perlzemi.com/blog/ If you check with 20200602093211.html "> grep command</a>, a core dump is also output.
</p>
<pre>
$ls | grep core
core.28560
</pre>
<p>
  Think of a core dump as a file that contains information about debugging your program. We will discuss how to debug a program using a core dump elsewhere.
</p>
<h3> Remove assert macros </h3>
<p>
  The assert macro can be removed by specifying the NDEBUG macro at compile time. This is useful if you only use the assert macro when debugging and you don't want to include the assert macro in the final product output.
</p>
<pre>
#include &lt;stdio.h&gt;
#include &lt;stdint.h&gt;
#include &lt;assert.h&gt;

int main (void) {
  int32_t num = -1;
  
  // Check that num is greater than 1
  assert (num&gt; 1);
  
  printf("%d\n", num);
}
</pre>
<p>
  Let's define and execute the "NDEBUG macro" with the "-D" option of gcc as follows. The assert macro part is not executed.
</p>
<pre>
gcc -DNDEBUG -o a a.c &amp;&amp; ./a
</pre>

  </div>
  <div class="bottom">
    <h3>Associated Information</h3>

<div style="margin:10px 0">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4525414114581084"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-4525414114581084"
     data-ad-slot="9163995495"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>

  </div>
</div>

        </div>
        <div class="side">
          <div style="margin-bottom:30px">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4525414114581084"
     crossorigin="anonymous"></script>
<!-- ディスプレイ縦長 --><ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-4525414114581084"
     data-ad-slot="4544919209"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>

<div style="margin-bottom:30px;padding:0 8px;">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4525414114581084"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-4525414114581084"
     data-ad-slot="9163995495"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>

        </div>
      </div>
      <div class="footer">
        <div style="font-size:16px;padding:30px 0;background:#fcfcfc;">
  This site is originally Japanese.<br>
  Perl Club starts to translate it to English.<br>
  If you find wrong expressions, you can report them using <a rel="nofollow" href="https://github.com/yuki-kimoto/en_c/issues">Github Issue</a>. 
</div>
<div class="perlri_link">
  <a rel="nofollow" href="https://perlclub.net/en">Perl Club</a>
</div>

      </div>
    </div>
  </body>
</html>
