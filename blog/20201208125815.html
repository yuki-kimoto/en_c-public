<!DOCTYPE html>
<html>
  <head>
    <!-- meta -->
<!-- Google Automatic Advertising -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4525414114581084"
     crossorigin="anonymous"></script>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0">
<link rel="icon" type="image/x-icon" href="/images/logo.png">
<link rel="stylesheet" type="text/css" href="/css/common.css">

<script type="text/javascript" src="/js/jquery-1.9.0.min.js"></script>
<script type="text/javascript" src="/js/google-code-prettify/prettify.js"></script>
<link  type="text/css" rel="stylesheet" href="/js/google-code-prettify/prettify.css"/>
<script>
  $(function(){
    $("pre").addClass("prettyprint");
    function init(event){
      prettyPrint();
    }
    if(window.addEventListener)window.addEventListener("load",init,false);
    else if(window.attachEvent)window.attachEvent("onload",init);
    
    $(".to-top").click(function() {
      $('body, html').animate({scrollTop: 0}, 300, 'linear');;
    });
  });
</script>

<!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-FTCP0SKTW5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-FTCP0SKTW5');
</script>

<title> char * --Type that represents a string  - C Language Zemi -  All Examples are support C99 C Language</title>
<meta name="description" content="To express  string, use "char *" which is a pointer type of char.">
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@perlzemi" />
<meta name="twitter:title" content=" char * --Type that represents a string  - C Language Zemi -  All Examples are support C99 C Language" />
<meta name="twitter:description" content="To express  string, use "char *" which is a pointer type of char." />
<meta name="twitter:image" content="https://en.c.perlzemi.com/images/twitter_card_large_kaeru.png" />


  </head>
  <body>
    <div class="container">
      <div class="header">
        <div class="header_main">
  <h1>
    <a href="/"><img src="/images/logo.png">C Language Zemi</a>
  </h1>
</div>

      </div>
      <div class="main">
        <div class="content">
          <div class="entry">
  <div class="top">
    
  </div>
  <div class="middle">
    <div class = "bread">
  <ul itemscope itemtype = "http://schema.org/BreadcrumbList">
    <li itemprop = "itemListElement" itemscope itemtype = "http://schema.org/ListItem">
      <a itemprop="item" href="/">
        <span itemprop = "name"> C language </span>
     </a>
      <meta itemprop = "position" content = "1" />
    </li>
    <li itemprop = "itemListElement" itemscope itemtype = "http://schema.org/ListItem">
      <a itemprop="item" href="/types.html">
        <span itemprop = "name"> C type </span>
     </a>
      <meta itemprop = "position" content = "2" />
    </li>
    <li>
      here
    </li>
  </ul>
</div>
<h2><a href="/blog/20201208125815.html"> char * --Type that represents a string </a></h2>
<p>
  To express <a href="/blog/20210331101342.html"> string</a>, use "char *" which is a pointer type of char.
</p>
<div style="width:calc(100% - 30px);margin:10px auto;">
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4525414114581084"
       crossorigin="anonymous"></script>
  <!-- 最初の段落下 - ディスプレイ 横長 レスポンシブ -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-4525414114581084"
       data-ad-slot="2828858335"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


<pre>
char *
</pre>
<p>
  You can assign a string literal to the "char *" type.
</p>
<pre>
char * name = "Perl";
</pre>
<p>
  In general, when using the "char *" type for assigning string literals, it is advisable to add a constant qualifier to prevent character changes.
</p>
<pre>
const char * name = "Perl";
</pre>
<p>
  Keep in mind that a string in C is an array of characters ending in "\ 0". If you write the element, it will be as follows.
</p>
<pre>
0 1 2 3 4
P e r l \ 0
</pre>
<p>
  Semantically, the assignment of a string literal is the same as the code below.
</p>
<p>
  This is a sample that substitutes a string literal and outputs it.
</p>
<pre>
#include &lt;stdio.h&gt;

int main (void) {
  const char * name = "Perl";
  printf("%s\n", name);
}
</pre>
<h3> When generating a character string at runtime </h3>
<p>
  To dynamically generate a string at run time, allocate memory with malloc. The character Perl is 4 characters, but 5 bytes are reserved because "\ 0" is required at the end. The size of char is 1 byte.
</p>
<pre>
#include &lt;stdlib.h&gt;

char * name = malloc (sizeof (char) * 5);

// Perl
name [0] ='P';
name [1] ='e';
name [2] ='r';
name [3] ='l';
name [4] ='\ 0';
</pre>
<p>
  This is a sample that outputs a dynamically generated character string.
</p>
<pre>
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

int main (void) {

  char * name = malloc (sizeof (char) * 5);

  // Perl
  name [0] ='P';
  name [1] ='e';
  name [2] ='r';
  name [3] ='l';
  name [4] ='\ 0';

  printf("%s\n", name);
}
</pre>
<h3> Is it possible to create a string containing \ 0 in the middle? </h3>
<p>
  Although it can be included, C language functions for strings assume that the end of the string is "\ 0". If "\ 0" is included in the middle of the character string, that position is recognized as the end position of the character string. The expression of the character string constant is also automatically added with "\ 0" at the end. In C, it's best to assume that the grammar or function expects the string to end with "\ 0".
</p>
<h3> Does the C language string contain length information? </H3>
<p>
  Yes. C language strings do not contain length information. Since "\ 0" is regarded as the end position, it is necessary to count the number of characters up to "\ 0" when acquiring the length. The strlen function that gets the length of the string counts the number of characters up to "\ 0".
</p>
<h3> C language string security risk </h3>
<p>
  Since there is a specification that a character string in C language is regarded as a character string up to "\ 0" at the end, if you forget to include "\ 0" at the end of the character string, the character string function in C language (maximum) If the number of characters to be processed cannot be specified), it will be read to an unintended position. If you write at this position, a buffer overrun will occur.
</p>
<p>
  This is a memory operation when writing C language, which can easily happen.
</p>
<p>
  When dealing with C string functions, you should always consider whether you are reading an unintended area or not doing a buffer overrun.
</p>
<p>
  You can see one of the reasons why it is difficult to handle strings in C language.
</p>

  </div>
  <div class="bottom">
    <h3>Associated Information</h3>

<div style="margin:10px 0">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4525414114581084"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-4525414114581084"
     data-ad-slot="9163995495"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>

  </div>
</div>

        </div>
        <div class="side">
          
        </div>
      </div>
      <div class="footer">
        <div style="font-size:16px;padding:30px 0;background:#fcfcfc;">
  This site is originally Japanese.<br>
  Perl Club starts to translate it to English.<br>
  If you find wrong expressions, you can report them using <a rel="nofollow" href="https://github.com/yuki-kimoto/en_c/issues">Github Issue</a>. 
</div>
<div class="perlri_link">
  <a rel="nofollow" href="https://perlclub.net/en">Perl Club</a>
</div>

      </div>
    </div>
  </body>
</html>
