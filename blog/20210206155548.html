<!DOCTYPE html>
<html>
  <head>
    <!-- meta --><meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0">
<link rel="icon" type="image/x-icon" href="/images/logo.png">
<link rel="stylesheet" type="text/css" href="/css/common.css">

<script type="text/javascript" src="/js/jquery-1.9.0.min.js"></script>
<script type="text/javascript" src="/js/google-code-prettify/prettify.js"></script>
<link  type="text/css" rel="stylesheet" href="/js/google-code-prettify/prettify.css"/>
<script>
  $(function(){
    $("pre").addClass("prettyprint");
    function init(event){
      prettyPrint();
    }
    if(window.addEventListener)window.addEventListener("load",init,false);
    else if(window.attachEvent)window.attachEvent("onload",init);
    
    $(".to-top").click(function() {
      $('body, html').animate({scrollTop: 0}, 300, 'linear');;
    });
  });
</script>

<!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-FTCP0SKTW5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-FTCP0SKTW5');
</script>

<title> Union-Data sharing  - C Language Zemi -  All Examples are support C99 C Language</title>
<meta name="description" content="A union is a type that can share multiple data. Sharing means that member variables use the same memory area. Unions can be used in the same way as  structures, except that they share data.">
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@perlzemi" />
<meta name="twitter:title" content=" Union-Data sharing  - C Language Zemi -  All Examples are support C99 C Language" />
<meta name="twitter:description" content="A union is a type that can share multiple data. Sharing means that member variables use the same memory area. Unions can be used in the same way as  structures, except that they share data." />
<meta name="twitter:image" content="https://en.c.perlzemi.com/images/twitter_card_large_kaeru.png" />


  </head>
  <body>
    <div class="container">
      <div class="header">
        <div class="header_main">
  <h1>
    <a href="/"><img src="/images/logo.png">C Language Zemi</a>
  </h1>
</div>

      </div>
      <div class="main">
        <div class="content">
          <div class="entry">
  <div class="top">
    
  </div>
  <div class="middle">
    <div class = "bread">
  <ul itemscope itemtype = "http://schema.org/BreadcrumbList">
    <li itemprop = "itemListElement" itemscope itemtype = "http://schema.org/ListItem">
      <a itemprop="item" href="/">
        <span itemprop = "name"> C language </span>
     </a>
      <meta itemprop = "position" content = "1" />
    </li>
    <li itemprop = "itemListElement" itemscope itemtype = "http://schema.org/ListItem">
      <a itemprop="item" href="/syntax.html">
        <span itemprop = "name"> Basic grammar </span>
     </a>
      <meta itemprop = "position" content = "2" />
    </li>
    <li>
      here
    </li>
  </ul>
</div>
<h2><a href="/blog/20210206155548.html"> Union-Data sharing </a></h2>
<p>
  A union is a type that can share multiple data. Sharing means that member variables use the same memory area. Unions can be used in the same way as <a href="/blog/20210208155548.html"> structures</a>, except that they share data.
</p>
<div style="width:calc(100% - 30px);margin:10px auto;">
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4525414114581084"
       crossorigin="anonymous"></script>
  <!-- 最初の段落下 - ディスプレイ 横長 レスポンシブ -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-4525414114581084"
       data-ad-slot="2828858335"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


<pre>
#include &lt;stdint.h&gt;

// Union type
union myapp_value {
  int8_t i8_val;
  int16_t i16_val;
  int32_t i32_val;
  int64_t i64_val;
  float float_val;
  double double_val;
  void * ptr_val;
};;
</pre>
<p>
  Member variables share one memory area. This means that only one can be used at a time.
</p>
<p>
  The size of the union returned by the <a href="/blog/20210207155548.html"> sizeof operator</a> is the largest member variable <a href="/blog/20210207155548.html"> sizeof operator <a href="/blog/20210207155548.html"> sizeof operator < It is the size returned by / a>.
</p>
<h3> Use of unions </h3>
<p>
  Let's use a union. Unions are available as types. The union is declared, the value is assigned to the member variable, and the contents are output.
</p>
<pre>
#include &lt;stdint.h&gt;
#include &lt;stdio.h&gt;

// Definition of a union that represents book information
union myapp_value {
  int8_t i8_val;
  int16_t i16_val;
  int32_t i32_val;
  int64_t i64_val;
  float float_val;
  double double_val;
  void * ptr_val;
};;

int main (void) {
  // Union variable declaration
  union myapp_value value;
  
  // Assign a value to the member variable i32_value
  value.i32_val = 4;
  printf("i32_val:%d\n", value.i32_val);
  
  // Assign a value to the member variable double_val
  value.double_val = 2.56;
  printf("double_val:%f\n", value.double_val);

  // Oh, the value of i32_val has been updated
  printf("i32_val:%d\n", value.i32_val);
  
  // Union size
  printf("size of union mypp_value:%d\n", sizeof (union myapp_value));
}
</pre>
<h3> What is the union for? </H3>
<p>
  This is to save memory area.
</p>
<p>
  "Well, that's it?"
</p>
<p>
  Yes. There are times when you really want to save memory for optimization, and use that.
</p>
<p>
  Saving memory has a positive effect on performance as it increases memory locality.
</p>

  </div>
  <div class="bottom">
    <h3>Associated Information</h3>

<div style="margin:10px 0">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4525414114581084"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-4525414114581084"
     data-ad-slot="9163995495"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>

  </div>
</div>

        </div>
        <div class="side">
          <div style="margin-bottom:30px">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4525414114581084"
     crossorigin="anonymous"></script>
<!-- ディスプレイ縦長 --><ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-4525414114581084"
     data-ad-slot="4544919209"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>

<div style="margin-bottom:30px;padding:0 8px;">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4525414114581084"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-4525414114581084"
     data-ad-slot="9163995495"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>

        </div>
      </div>
      <div class="footer">
        <div class="perlri_link">
  <a rel="nofollow" href="https://perlclub.net/en">Perl Club</a>
</div>

      </div>
    </div>
  </body>
</html>
